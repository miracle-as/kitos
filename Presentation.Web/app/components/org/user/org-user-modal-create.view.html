<div class="modal-header">
    <h3>Opret bruger</h3>
</div>
<div class="modal-body">
    <form name="createUser.form" novalidate="novalidate" class="form-horizontal">
        <div class="form-group">
            <label for="email" class="col-md-3 control-label">
                Email-adresse
            </label>
            <div class="col-md-8">
                <input type="email" name="email" id="email" data-ng-model="ctrl.email" class="form-control" data-ng-required="true" data-unique-org-user="{{ ctrl.checkAvailbleUrl }}" data-unique-email="{{ ctrl.checkAvailbleUrl }}" autofocus data-ng-disabled="ctrl.busy">
                <span class="glyphicon form-control-feedback" data-ng-class="{ 'glyphicon-remove': ctrl.createForm.name.$invalid && ctrl.createForm.name.$dirty, 'glyphicon-ok': ctrl.createForm.name.$valid }"></span>
            </div>
        </div>
        <div class="form-group" data-ng-hide="emailExists">
            <label for="repeatEmail" class="col-md-3 control-label">
                Gentag email-adresse
            </label>
            <div class="col-md-8">
                <input type="email" name="repeatEmail" id="repeatEmail" data-ng-model="ctrl.repeatEmail" class="form-control" data-match="ctrl.email" data-ng-required="true" data-ng-disabled="ctrl.busy">
            </div>
        </div>
        <div class="form-group" data-ng-hide="emailExists">
            <label for="name" class="col-md-3 control-label">
                Fornavn
            </label>
            <div class="col-md-8">
                <input type="text" name="name" id="name" data-ng-model="ctrl.name" class="form-control" data-ng-required="true" data-ng-disabled="ctrl.busy">
            </div>
        </div>
        <div class="form-group" data-ng-hide="emailExists">
            <label for="lastName" class="col-md-3 control-label">
                Efternavn
            </label>
            <div class="col-md-8">
                <input type="text" name="lastName" id="lastName" data-ng-model="ctrl.lastName" class="form-control" data-ng-required="true" data-ng-disabled="ctrl.busy">
            </div>
        </div>
        <div class="form-group" data-ng-hide="emailExists">
            <label for="phoneNumber" class="col-md-3 control-label">
                Telefon
            </label>
            <div class="col-md-8">
                <input type="text" name="phoneNumber" id="phoneNumber" data-ng-model="ctrl.phoneNumber" class="form-control" data-ng-required="false" data-ng-disabled="ctrl.busy" />
            </div>
        </div>
        <div class="form-group">
            <p class="help-block col-md-offset-3" data-ng-hide="emailExists">
                En ny bruger vil blive oprettet i systemet.
            </p>
            <span class="help-block col-md-offset-3" data-ng-show="emailExists && !userExists">Brugeren findes allerede.</span>
            <span class="help-block col-md-offset-3" data-ng-show="userExists">Brugeren er allerede tilknyttet.</span>
            <span class="help-block col-md-offset-3" data-ng-show="ctrl.createUser.form.email.$error.lookup">Der skete en fejl ved tjek om E-Mail er i brug!</span>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-success" data-ng-show="emailExists" data-ng-disabled="userExists && emailExists" data-ng-click="ctrl.create(false)">Tilknyt bruger</button>
    <button class="btn btn-primary" data-ng-hide="emailExists" data-ng-click="ctrl.create(false)" data-ng-disabled="ctrl.createUser.form.$invalid || ctrl.createUser.form.$pristine || ctrl.busy" data-disabled-on-busy="">Opret bruger</button>
    <button class="btn btn-success" data-ng-hide="emailExists" data-ng-click="ctrl.create(true)" data-ng-disabled="ctrl.createUser.form.$invalid || ctrl.createUser.form.$pristine || ctrl.busy" data-disabled-on-busy="">Opret bruger og send advis</button>
    <button class="btn btn-warning" data-ng-click="ctrl.cancel()" data-ng-disabled="ctrl.busy" data-disabled-on-busy="">Annuller</button>
</div>
